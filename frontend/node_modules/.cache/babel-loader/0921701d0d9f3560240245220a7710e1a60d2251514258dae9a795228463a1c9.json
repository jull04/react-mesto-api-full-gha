{"ast":null,"code":"var _jsxFileName = \"/Users/juliakh/Desktop/mesto-full/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.jsx\",\n  _s = $RefreshSig$();\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  isLoading\n}) {\n  _s();\n  const currentUser = React.useContext(CurrentUserContext);\n  const {\n    handleChange,\n    values,\n    errors,\n    isValid,\n    isInputValid,\n    reset,\n    setValue\n  } = useFormValidation();\n  useEffect(() => {\n    setValue(\"firstname\", currentUser.name);\n    setValue(\"job\", currentUser.about);\n  }, [currentUser, setValue]);\n  useEffect(() => {\n    reset({\n      firstname: currentUser.name,\n      job: currentUser.about\n    });\n  }, [isOpen]);\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      firstname: values.firstname,\n      job: values.job\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    name: \"edit\",\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    btnText: isLoading ? \"Сохранение...\" : \"Сохранить\",\n    isOpen: isOpen,\n    onClose: onClose,\n    isValid: isValid,\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"name\",\n      name: \"firstname\",\n      className: `popup__input popup__input_type_name ${isInputValid.firstname === undefined || isInputValid.firstname ? '' : 'popup__input_type_error'}`,\n      type: \"text\",\n      placeholder: \"\\u0418\\u043C\\u044F\",\n      minLength: 2,\n      maxLength: 40,\n      required: true,\n      onChange: handleChange,\n      value: values.firstname ? values.firstname : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"name-error popup__error popup__error_visible\",\n      children: errors.firstname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"job\",\n      className: `popup__input popup__input_type_job\" ${isInputValid.job === undefined || isInputValid.job ? '' : 'popup__input_type_error'}`,\n      type: \"text\",\n      name: \"job\",\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      minLength: 2,\n      maxLength: 200,\n      required: true,\n      onChange: handleChange,\n      value: values.job ? values.job : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"job-error popup__error popup__error_visible\",\n      children: errors.job\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfilePopup, \"aGiRxPESU72ZRfHBMRW6PgDkY3o=\", false, function () {\n  return [useFormValidation];\n});\n_c = EditProfilePopup;\nexport default EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["CurrentUserContext","useFormValidation","PopupWithForm","React","useEffect","jsxDEV","_jsxDEV","EditProfilePopup","isOpen","onClose","onUpdateUser","isLoading","_s","currentUser","useContext","handleChange","values","errors","isValid","isInputValid","reset","setValue","name","about","firstname","job","handleSubmit","evt","preventDefault","title","btnText","onSubmit","children","id","className","undefined","type","placeholder","minLength","maxLength","required","onChange","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/juliakh/Desktop/mesto-full/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.jsx"],"sourcesContent":["import CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport PopupWithForm from \"./PopupWithForm\"\nimport React, {useEffect} from \"react\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\n\n  const currentUser = React.useContext(CurrentUserContext);  \n\n  const {handleChange, values, errors, isValid, isInputValid, reset, setValue} = useFormValidation();\n\n  useEffect(() => {\n    setValue(\"firstname\", currentUser.name)\n    setValue(\"job\", currentUser.about)\n  },[currentUser, setValue])\n\n  useEffect(() => {\n    reset({firstname: currentUser.name, job: currentUser.about})\n  }, [isOpen]);\n\n  function handleSubmit(evt){\n    evt.preventDefault();\n    onUpdateUser({firstname: values.firstname, job: values.job}) \n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      btnText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      isValid={isValid}\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"name\"\n        name=\"firstname\"\n        className={`popup__input popup__input_type_name ${isInputValid.firstname === undefined || isInputValid.firstname ? '' : 'popup__input_type_error' }`}\n        type=\"text\"\n        placeholder=\"Имя\"\n        minLength={2}\n        maxLength={40}\n        required\n        onChange={handleChange}\n        value={values.firstname ? values.firstname : ''}\n      />\n      <span className=\"name-error popup__error popup__error_visible\">{errors.firstname}</span>\n      <input\n        id=\"job\"\n        className={`popup__input popup__input_type_job\" ${isInputValid.job === undefined || isInputValid.job ? '' : 'popup__input_type_error' }`}\n        type=\"text\"\n        name=\"job\"\n        placeholder=\"О себе\"\n        minLength={2}\n        maxLength={200}\n        required\n        onChange={handleChange}\n        value={values.job ? values.job : ''}\n      />\n      <span className=\"job-error popup__error popup__error_visible\">{errors.job}</span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}