{"ast":null,"code":"import _toConsumableArray from\"/Users/juliakh/Desktop/react-mesto-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/juliakh/Desktop/react-mesto-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Route,Routes,useNavigate,Navigate}from\"react-router-dom\";import Header from\"./Header.jsx\";import Main from'./Main.jsx';import Footer from'./Footer.jsx';import ImagePopup from\"./ImagePopup.jsx\";import CurrentUserContext from\"../contexts/CurrentUserContext.js\";import api from\"../utils/api.js\";import EditProfilePopup from\"./EditProfilePopup.jsx\";import EditAvatarPopup from\"./EditAvatarPopup.jsx\";import AddPlacePopup from\"./AddPlacePopup.jsx\";import DeletePopupCard from\"./DeleteCardPopup.jsx\";import ProtectedRouteElement from\"./ProtectedRoute\";import InfoTooltip from\"./InfoTooltip\";import Login from\"./Login.jsx\";import Register from\"./Register.jsx\";import{register,authorize,checkToken}from\"../utils/auth.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setEditPopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setAddPopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setAvatarPopupOpen=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),selectedCard=_useState8[0],setSelectedCard=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDeletePopupOpen=_useState10[0],setDeleteCardPopupOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isImagePopupOpen=_useState12[0],setImagePopupOpen=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),currentUser=_useState14[0],setCurrentUser=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),cards=_useState16[0],setCards=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),deleteCardId=_useState18[0],setDeleteCardId=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isInfoTooltipOpen=_useState20[0],setInfoTooltipOpen=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isSuccessInfoTooltipStatus=_useState22[0],setSuccessInfoTooltipStatus=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),loggedIn=_useState24[0],setLoggedIn=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),email=_useState26[0],setEmail=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isLoading=_useState28[0],setIsLoading=_useState28[1];var navigate=useNavigate();useEffect(function(){if(loggedIn){Promise.all([api.getInfo(),api.getCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),dataUser=_ref2[0],dataCard=_ref2[1];setCurrentUser(dataUser);setCards(dataCard);}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(error));});}},[loggedIn]);// Проверка токена при загрузке страницы\nuseEffect(function(){var token=localStorage.getItem('token');// если у пользователя есть токен в localStorage, \n// функция проверит, действующий он или нет\nif(token){checkToken(token).then(function(res){if(res){setLoggedIn(true);setEmail(res.data.email);navigate('/',{replace:true});}}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0438 \\u0442\\u043E\\u043A\\u0435\\u043D\\u0430 \".concat(error));});}},[]);//Обработка запроса на регистрацию\nfunction handleRegister(email,password){register(email,password).then(function(res){if(res){setSuccessInfoTooltipStatus(true);navigate('/sign-in',{replace:true});}else{setSuccessInfoTooltipStatus(false);}}).catch(function(error){setSuccessInfoTooltipStatus(false);console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438 \".concat(error));}).finally(function(){return openInfoTooltip();});}//Изменение статуса логина\nfunction handleLoggedIn(){setLoggedIn(true);}function openInfoTooltip(){setInfoTooltipOpen(true);}//Обработка запроса на авторизацию\nfunction handleLogin(email,password){authorize(email,password).then(function(data){if(data.token){setEmail(email);handleLoggedIn();navigate('/',{replace:true});}}).catch(function(error){openInfoTooltip();setLoggedIn(false);setSuccessInfoTooltipStatus(false);console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \".concat(error));});}//Выход из системы\nfunction handleLogout(){setLoggedIn(false);localStorage.removeItem(\"token\");navigate(\"/sign-in\");setEmail(\"\");}function handleEditProfileClick(){setEditPopupOpen(true);}function handleAddPlaceClick(){setAddPopupOpen(true);}function handleEditAvatarClick(){setAvatarPopupOpen(true);}function handleCardClick(card){setSelectedCard(card);setImagePopupOpen(true);}function handleDeleteCard(cardId){setDeleteCardPopupOpen(true);setDeleteCardId(cardId);}function closeAllPopups(){setEditPopupOpen(false);setAvatarPopupOpen(false);setAddPopupOpen(false);setDeleteCardPopupOpen(false);setImagePopupOpen(false);setInfoTooltipOpen(false);}function handleCardLike(card){var isLike=card.likes.some(function(element){return currentUser._id===element._id;});if(isLike){api.deleteLike(card._id).then(function(res){setCards(function(state){return state.map(function(c){return c._id===card._id?res:c;});});}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043D\\u044F\\u0442\\u0438\\u044F \\u043B\\u0430\\u0439\\u043A\\u0430 \".concat(error));});}else{api.putLike(card._id,true).then(function(res){setCards(function(state){return state.map(function(c){return c._id===card._id?res:c;});});}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043A\\u0438 \\u043B\\u0430\\u0439\\u043A\\u0430 \".concat(error));});}}function handleDeleteSubmit(){api.deleteCard(deleteCardId).then(function(){setCards(function(state){return state.filter(function(card){return card._id!==deleteCardId;});});closeAllPopups();}).catch(function(error){return console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438 \".concat(error));}).finally(function(){return setIsLoading(false);});setIsLoading(true);}function handleUpdateUser(dataUser,reset){api.setUserInfo(dataUser).then(function(res){setCurrentUser(res);closeAllPopups();reset();}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F \".concat(error));}).finally(function(){return setIsLoading(false);});setIsLoading(true);}function handleUpdateAvatar(dataUser,reset){api.setAvatar(dataUser).then(function(res){setCurrentUser(res);closeAllPopups();reset();}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430 \".concat(error));}).finally(function(){return setIsLoading(false);});setIsLoading(true);}function handleAddPlace(cardInfo,reset){api.addCard(cardInfo).then(function(res){setCards([res].concat(_toConsumableArray(cards)));closeAllPopups();reset();}).catch(function(error){return console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438 \".concat(error));}).finally(function(){return setIsLoading(false);});setIsLoading(true);}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page__content\",children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn,onLogout:handleLogout,email:email}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:loggedIn?\"/\":\"/sign-in\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRouteElement,{loggedIn:loggedIn,element:Main,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,onDeleteCard:handleDeleteCard,onCardLike:handleCardLike,cards:cards})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(InfoTooltip,{name:\"info\",isOpen:isInfoTooltipOpen,onClose:closeAllPopups,isConfirmed:isSuccessInfoTooltipStatus}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,isLoading:isLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlace,isLoading:isLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,isLoading:isLoading}),/*#__PURE__*/_jsx(DeletePopupCard,{isOpen:isDeletePopupOpen,onClose:closeAllPopups,onCardDelete:handleDeleteSubmit,isLoading:isLoading})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","useNavigate","Navigate","Header","Main","Footer","ImagePopup","CurrentUserContext","api","EditProfilePopup","EditAvatarPopup","AddPlacePopup","DeletePopupCard","ProtectedRouteElement","InfoTooltip","Login","Register","register","authorize","checkToken","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","isEditProfilePopupOpen","setEditPopupOpen","_useState3","_useState4","isAddPlacePopupOpen","setAddPopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setAvatarPopupOpen","_useState7","_useState8","selectedCard","setSelectedCard","_useState9","_useState10","isDeletePopupOpen","setDeleteCardPopupOpen","_useState11","_useState12","isImagePopupOpen","setImagePopupOpen","_useState13","_useState14","currentUser","setCurrentUser","_useState15","_useState16","cards","setCards","_useState17","_useState18","deleteCardId","setDeleteCardId","_useState19","_useState20","isInfoTooltipOpen","setInfoTooltipOpen","_useState21","_useState22","isSuccessInfoTooltipStatus","setSuccessInfoTooltipStatus","_useState23","_useState24","loggedIn","setLoggedIn","_useState25","_useState26","email","setEmail","_useState27","_useState28","isLoading","setIsLoading","navigate","Promise","all","getInfo","getCards","then","_ref","_ref2","dataUser","dataCard","catch","error","console","log","concat","token","localStorage","getItem","res","data","replace","handleRegister","password","finally","openInfoTooltip","handleLoggedIn","handleLogin","handleLogout","removeItem","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","handleDeleteCard","cardId","closeAllPopups","handleCardLike","isLike","likes","some","element","_id","deleteLike","state","map","c","putLike","handleDeleteSubmit","deleteCard","filter","handleUpdateUser","reset","setUserInfo","handleUpdateAvatar","setAvatar","handleAddPlace","cardInfo","addCard","_toConsumableArray","Provider","value","children","className","onLogout","path","onRegister","onLogin","to","onEditAvatar","onEditProfile","onAddPlace","onCardClick","onDeleteCard","onCardLike","name","isOpen","onClose","isConfirmed","onUpdateUser","onUpdateAvatar","onCardDelete"],"sources":["/Users/juliakh/Desktop/react-mesto-auth/react-mesto-auth/src/components/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {Route, Routes, useNavigate, Navigate} from \"react-router-dom\";\nimport Header from \"./Header.jsx\";\nimport Main from './Main.jsx';\nimport Footer from './Footer.jsx';\nimport ImagePopup from \"./ImagePopup.jsx\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport api from \"../utils/api.js\";\nimport EditProfilePopup from \"./EditProfilePopup.jsx\";\nimport EditAvatarPopup from \"./EditAvatarPopup.jsx\";\nimport AddPlacePopup from \"./AddPlacePopup.jsx\";\nimport DeletePopupCard from \"./DeleteCardPopup.jsx\";\nimport ProtectedRouteElement from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login.jsx\";\nimport Register from \"./Register.jsx\";\nimport {register, authorize, checkToken} from \"../utils/auth.js\"\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isDeletePopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [deleteCardId, setDeleteCardId] = useState(\"\");\n\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [isSuccessInfoTooltipStatus, setSuccessInfoTooltipStatus] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getInfo(), api.getCards()])\n      .then(([dataUser, dataCard]) => {\n        setCurrentUser(dataUser);\n        setCards(dataCard);\n      }) \n      .catch((error => console.log(`Ошибка ${error}`)))\n    }\n  }, [loggedIn])\n\n  // Проверка токена при загрузке страницы\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    // если у пользователя есть токен в localStorage, \n    // функция проверит, действующий он или нет\n    if (token){\n      checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setEmail(res.data.email);\n            navigate('/', {replace: true})\n          }\n        })\n        .catch((error => console.log(`Ошибка проверки токена ${error}`)))\n    }\n  }, []);\n\n  //Обработка запроса на регистрацию\n  function handleRegister(email, password) {\n    register(email, password)\n    .then((res) => {\n      if (res) {\n        setSuccessInfoTooltipStatus(true);\n        navigate('/sign-in', {replace: true});\n      } else {\n        setSuccessInfoTooltipStatus(false);\n      }\n    })\n    .catch((error) => {\n      setSuccessInfoTooltipStatus(false);\n      console.log(`Ошибка регистрации ${error}`);\n    })\n    .finally(() => openInfoTooltip());\n  }\n\n  //Изменение статуса логина\n  function handleLoggedIn() {\n    setLoggedIn(true);\n  }\n\n  function openInfoTooltip() {\n    setInfoTooltipOpen(true);\n  }\n\n  //Обработка запроса на авторизацию\n  function handleLogin(email, password) {\n    authorize(email, password)\n    .then((data) => {\n      if (data.token) {\n        setEmail(email);\n        handleLoggedIn();\n        navigate('/', {replace: true})\n      }\n    })\n    .catch((error) => {\n      openInfoTooltip()\n      setLoggedIn(false);\n      setSuccessInfoTooltipStatus(false)\n      console.log(`Ошибка авторизации ${error}`);\n    })\n  }\n\n  //Выход из системы\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"token\");\n    navigate(\"/sign-in\");\n    setEmail(\"\");\n  }\n\n  function handleEditProfileClick() {\n    setEditPopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleDeleteCard(cardId) {\n    setDeleteCardPopupOpen(true);  \n    setDeleteCardId(cardId) \n  }\n\n  function closeAllPopups() { \n    setEditPopupOpen(false)\n    setAvatarPopupOpen(false)\n    setAddPopupOpen(false)\n    setDeleteCardPopupOpen(false)\n    setImagePopupOpen(false)\n    setInfoTooltipOpen(false)\n  }\n\n  function handleCardLike (card) {\n    const isLike = card.likes.some((element) => currentUser._id === element._id);\n    if (isLike) {\n      api.deleteLike(card._id)\n      .then((res) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? res : c))\n        )\n      })\n      .catch(error => console.log(`Ошибка снятия лайка ${error}`));\n    } else {\n      api.putLike(card._id, true)\n      .then((res) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? res : c))\n        )\n      })\n      .catch(error => console.log(`Ошибка постановки лайка ${error}`)); \n    }\n  }\n\n  function handleDeleteSubmit() {\n    api.deleteCard(deleteCardId)\n    .then(() => {\n      setCards((state) =>\n        state.filter((card) => {\n          return card._id !== deleteCardId;\n        })\n      );\n      closeAllPopups();\n    })\n    .catch((error => console.error(`Ошибка удаления карточки ${error}`))) \n    .finally(() => setIsLoading(false))\n    setIsLoading(true)\n  }\n\n  function handleUpdateUser(dataUser, reset) {\n    api.setUserInfo(dataUser)\n    .then(res => {\n      setCurrentUser(res);\n      closeAllPopups()\n      reset()\n    })\n    .catch((error) => console.log(`Ошибка редактирования профиля ${error}`))\n    .finally(() => setIsLoading(false))\n    setIsLoading(true)\n  }\n\n  function handleUpdateAvatar(dataUser, reset){\n    api.setAvatar(dataUser)\n    .then(res => {\n      setCurrentUser(res);\n      closeAllPopups()\n      reset()\n    })\n    .catch((error) => console.log(`Ошибка обновления аватара ${error}`))\n    .finally(() => setIsLoading(false))\n    setIsLoading(true)\n  }\n\n  function handleAddPlace(cardInfo, reset){\n    api.addCard(cardInfo)\n    .then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups()\n      reset()\n    })\n    .catch((error) => console.log(`Ошибка добавления карточки ${error}`))\n    .finally(() => setIsLoading(false))\n    setIsLoading(true)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__content\">\n        <Header loggedIn={loggedIn} onLogout={handleLogout} email={email}/>\n        <Routes>\n          <Route path=\"/sign-up\" element={<Register onRegister={handleRegister}/>}/>\n          <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>}/>\n          <Route path=\"*\" element={<Navigate to={loggedIn ? \"/\" : \"/sign-in\"} />} />\n          <Route\n            path=\"/\"\n            element={<ProtectedRouteElement \n              loggedIn={loggedIn} \n              element={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onDeleteCard={handleDeleteCard}\n              onCardLike={handleCardLike}\n              cards={cards}\n            />} \n          />\n        </Routes>\n        <Footer/>\n        <InfoTooltip\n          name=\"info\"\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isConfirmed={isSuccessInfoTooltipStatus}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        /> \n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}  \n          onUpdateUser={handleUpdateUser} \n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <DeletePopupCard\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleDeleteSubmit}\n          isLoading={isLoading}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAAQC,KAAK,CAAEC,MAAM,CAAEC,WAAW,CAAEC,QAAQ,KAAO,kBAAkB,CACrE,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,UAAU,KAAM,kBAAkB,CACzC,MAAO,CAAAC,kBAAkB,KAAM,mCAAmC,CAClE,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,CAAAC,gBAAgB,KAAM,wBAAwB,CACrD,MAAO,CAAAC,eAAe,KAAM,uBAAuB,CACnD,MAAO,CAAAC,aAAa,KAAM,qBAAqB,CAC/C,MAAO,CAAAC,eAAe,KAAM,uBAAuB,CACnD,MAAO,CAAAC,qBAAqB,KAAM,kBAAkB,CACpD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,MAAO,CAAAC,QAAQ,KAAM,gBAAgB,CACrC,OAAQC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAO,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CAEb,IAAAC,SAAA,CAAmD3B,QAAQ,CAAC,KAAK,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3DG,sBAAsB,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IAC/C,IAAAI,UAAA,CAA+ChC,QAAQ,CAAC,KAAK,CAAC,CAAAiC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvDE,mBAAmB,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAC3C,IAAAG,UAAA,CAAoDpC,QAAQ,CAAC,KAAK,CAAC,CAAAqC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA5DE,qBAAqB,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAChD,IAAAG,UAAA,CAAwCxC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAyC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAoD5C,QAAQ,CAAC,KAAK,CAAC,CAAA6C,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA5DE,iBAAiB,CAAAD,WAAA,IAAEE,sBAAsB,CAAAF,WAAA,IAChD,IAAAG,WAAA,CAA8ChD,QAAQ,CAAC,KAAK,CAAC,CAAAiD,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAtDE,gBAAgB,CAAAD,WAAA,IAAEE,iBAAiB,CAAAF,WAAA,IAC1C,IAAAG,WAAA,CAAsCpD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAqD,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAA3CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAClC,IAAAG,WAAA,CAA0BxD,QAAQ,CAAC,EAAE,CAAC,CAAAyD,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAA/BE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAAwC5D,QAAQ,CAAC,EAAE,CAAC,CAAA6D,WAAA,CAAAhC,cAAA,CAAA+B,WAAA,IAA7CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IAEpC,IAAAG,WAAA,CAAgDhE,QAAQ,CAAC,KAAK,CAAC,CAAAiE,WAAA,CAAApC,cAAA,CAAAmC,WAAA,IAAxDE,iBAAiB,CAAAD,WAAA,IAAEE,kBAAkB,CAAAF,WAAA,IAC5C,IAAAG,WAAA,CAAkEpE,QAAQ,CAAC,KAAK,CAAC,CAAAqE,WAAA,CAAAxC,cAAA,CAAAuC,WAAA,IAA1EE,0BAA0B,CAAAD,WAAA,IAAEE,2BAA2B,CAAAF,WAAA,IAC9D,IAAAG,WAAA,CAAgCxE,QAAQ,CAAC,KAAK,CAAC,CAAAyE,WAAA,CAAA5C,cAAA,CAAA2C,WAAA,IAAxCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAC5B,IAAAG,WAAA,CAA0B5E,QAAQ,CAAC,EAAE,CAAC,CAAA6E,WAAA,CAAAhD,cAAA,CAAA+C,WAAA,IAA/BE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAAkChF,QAAQ,CAAC,KAAK,CAAC,CAAAiF,WAAA,CAAApD,cAAA,CAAAmD,WAAA,IAA1CE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAE9B,GAAM,CAAAG,QAAQ,CAAGjF,WAAW,CAAC,CAAC,CAE9BJ,SAAS,CAAC,UAAM,CACd,GAAI2E,QAAQ,CAAE,CACZW,OAAO,CAACC,GAAG,CAAC,CAAC5E,GAAG,CAAC6E,OAAO,CAAC,CAAC,CAAE7E,GAAG,CAAC8E,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC3CC,IAAI,CAAC,SAAAC,IAAA,CAA0B,KAAAC,KAAA,CAAA9D,cAAA,CAAA6D,IAAA,IAAxBE,QAAQ,CAAAD,KAAA,IAAEE,QAAQ,CAAAF,KAAA,IACxBpC,cAAc,CAACqC,QAAQ,CAAC,CACxBjC,QAAQ,CAACkC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACDC,KAAK,CAAE,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACC,GAAG,yCAAAC,MAAA,CAAWH,KAAK,CAAE,CAAC,EAAC,CAAC,CACnD,CACF,CAAC,CAAE,CAACrB,QAAQ,CAAC,CAAC,CAEd;AACA3E,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C;AACA;AACA,GAAIF,KAAK,CAAC,CACR9E,UAAU,CAAC8E,KAAK,CAAC,CACdV,IAAI,CAAC,SAACa,GAAG,CAAK,CACb,GAAIA,GAAG,CAAE,CACP3B,WAAW,CAAC,IAAI,CAAC,CACjBI,QAAQ,CAACuB,GAAG,CAACC,IAAI,CAACzB,KAAK,CAAC,CACxBM,QAAQ,CAAC,GAAG,CAAE,CAACoB,OAAO,CAAE,IAAI,CAAC,CAAC,CAChC,CACF,CAAC,CAAC,CACDV,KAAK,CAAE,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACC,GAAG,+HAAAC,MAAA,CAA2BH,KAAK,CAAE,CAAC,EAAC,CAAC,CACrE,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,QAAS,CAAAU,cAAcA,CAAC3B,KAAK,CAAE4B,QAAQ,CAAE,CACvCvF,QAAQ,CAAC2D,KAAK,CAAE4B,QAAQ,CAAC,CACxBjB,IAAI,CAAC,SAACa,GAAG,CAAK,CACb,GAAIA,GAAG,CAAE,CACP/B,2BAA2B,CAAC,IAAI,CAAC,CACjCa,QAAQ,CAAC,UAAU,CAAE,CAACoB,OAAO,CAAE,IAAI,CAAC,CAAC,CACvC,CAAC,IAAM,CACLjC,2BAA2B,CAAC,KAAK,CAAC,CACpC,CACF,CAAC,CAAC,CACDuB,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBxB,2BAA2B,CAAC,KAAK,CAAC,CAClCyB,OAAO,CAACC,GAAG,4GAAAC,MAAA,CAAuBH,KAAK,CAAE,CAAC,CAC5C,CAAC,CAAC,CACDY,OAAO,CAAC,iBAAM,CAAAC,eAAe,CAAC,CAAC,GAAC,CACnC,CAEA;AACA,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxBlC,WAAW,CAAC,IAAI,CAAC,CACnB,CAEA,QAAS,CAAAiC,eAAeA,CAAA,CAAG,CACzBzC,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAEA;AACA,QAAS,CAAA2C,WAAWA,CAAChC,KAAK,CAAE4B,QAAQ,CAAE,CACpCtF,SAAS,CAAC0D,KAAK,CAAE4B,QAAQ,CAAC,CACzBjB,IAAI,CAAC,SAACc,IAAI,CAAK,CACd,GAAIA,IAAI,CAACJ,KAAK,CAAE,CACdpB,QAAQ,CAACD,KAAK,CAAC,CACf+B,cAAc,CAAC,CAAC,CAChBzB,QAAQ,CAAC,GAAG,CAAE,CAACoB,OAAO,CAAE,IAAI,CAAC,CAAC,CAChC,CACF,CAAC,CAAC,CACDV,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBa,eAAe,CAAC,CAAC,CACjBjC,WAAW,CAAC,KAAK,CAAC,CAClBJ,2BAA2B,CAAC,KAAK,CAAC,CAClCyB,OAAO,CAACC,GAAG,4GAAAC,MAAA,CAAuBH,KAAK,CAAE,CAAC,CAC5C,CAAC,CAAC,CACJ,CAEA;AACA,QAAS,CAAAgB,YAAYA,CAAA,CAAG,CACtBpC,WAAW,CAAC,KAAK,CAAC,CAClByB,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC,CAChC5B,QAAQ,CAAC,UAAU,CAAC,CACpBL,QAAQ,CAAC,EAAE,CAAC,CACd,CAEA,QAAS,CAAAkC,sBAAsBA,CAAA,CAAG,CAChClF,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAEA,QAAS,CAAAmF,mBAAmBA,CAAA,CAAG,CAC7B/E,eAAe,CAAC,IAAI,CAAC,CACvB,CAEA,QAAS,CAAAgF,qBAAqBA,CAAA,CAAG,CAC/B5E,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAEA,QAAS,CAAA6E,eAAeA,CAACC,IAAI,CAAE,CAC7B1E,eAAe,CAAC0E,IAAI,CAAC,CACrBlE,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAEA,QAAS,CAAAmE,gBAAgBA,CAACC,MAAM,CAAE,CAChCxE,sBAAsB,CAAC,IAAI,CAAC,CAC5BgB,eAAe,CAACwD,MAAM,CAAC,CACzB,CAEA,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxBzF,gBAAgB,CAAC,KAAK,CAAC,CACvBQ,kBAAkB,CAAC,KAAK,CAAC,CACzBJ,eAAe,CAAC,KAAK,CAAC,CACtBY,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,iBAAiB,CAAC,KAAK,CAAC,CACxBgB,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAEA,QAAS,CAAAsD,cAAcA,CAAEJ,IAAI,CAAE,CAC7B,GAAM,CAAAK,MAAM,CAAGL,IAAI,CAACM,KAAK,CAACC,IAAI,CAAC,SAACC,OAAO,QAAK,CAAAvE,WAAW,CAACwE,GAAG,GAAKD,OAAO,CAACC,GAAG,GAAC,CAC5E,GAAIJ,MAAM,CAAE,CACVhH,GAAG,CAACqH,UAAU,CAACV,IAAI,CAACS,GAAG,CAAC,CACvBrC,IAAI,CAAC,SAACa,GAAG,CAAK,CACb3C,QAAQ,CAAC,SAACqE,KAAK,QACb,CAAAA,KAAK,CAACC,GAAG,CAAC,SAACC,CAAC,QAAM,CAAAA,CAAC,CAACJ,GAAG,GAAKT,IAAI,CAACS,GAAG,CAAGxB,GAAG,CAAG4B,CAAC,EAAC,CAAC,EAClD,CAAC,CACH,CAAC,CAAC,CACDpC,KAAK,CAAC,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACC,GAAG,6GAAAC,MAAA,CAAwBH,KAAK,CAAE,CAAC,GAAC,CAC9D,CAAC,IAAM,CACLrF,GAAG,CAACyH,OAAO,CAACd,IAAI,CAACS,GAAG,CAAE,IAAI,CAAC,CAC1BrC,IAAI,CAAC,SAACa,GAAG,CAAK,CACb3C,QAAQ,CAAC,SAACqE,KAAK,QACb,CAAAA,KAAK,CAACC,GAAG,CAAC,SAACC,CAAC,QAAM,CAAAA,CAAC,CAACJ,GAAG,GAAKT,IAAI,CAACS,GAAG,CAAGxB,GAAG,CAAG4B,CAAC,EAAC,CAAC,EAClD,CAAC,CACH,CAAC,CAAC,CACDpC,KAAK,CAAC,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACC,GAAG,qIAAAC,MAAA,CAA4BH,KAAK,CAAE,CAAC,GAAC,CAClE,CACF,CAEA,QAAS,CAAAqC,kBAAkBA,CAAA,CAAG,CAC5B1H,GAAG,CAAC2H,UAAU,CAACvE,YAAY,CAAC,CAC3B2B,IAAI,CAAC,UAAM,CACV9B,QAAQ,CAAC,SAACqE,KAAK,QACb,CAAAA,KAAK,CAACM,MAAM,CAAC,SAACjB,IAAI,CAAK,CACrB,MAAO,CAAAA,IAAI,CAACS,GAAG,GAAKhE,YAAY,CAClC,CAAC,CAAC,EACJ,CAAC,CACD0D,cAAc,CAAC,CAAC,CAClB,CAAC,CAAC,CACD1B,KAAK,CAAE,SAAAC,KAAK,QAAI,CAAAC,OAAO,CAACD,KAAK,2IAAAG,MAAA,CAA6BH,KAAK,CAAE,CAAC,EAAC,CAAC,CACpEY,OAAO,CAAC,iBAAM,CAAAxB,YAAY,CAAC,KAAK,CAAC,GAAC,CACnCA,YAAY,CAAC,IAAI,CAAC,CACpB,CAEA,QAAS,CAAAoD,gBAAgBA,CAAC3C,QAAQ,CAAE4C,KAAK,CAAE,CACzC9H,GAAG,CAAC+H,WAAW,CAAC7C,QAAQ,CAAC,CACxBH,IAAI,CAAC,SAAAa,GAAG,CAAI,CACX/C,cAAc,CAAC+C,GAAG,CAAC,CACnBkB,cAAc,CAAC,CAAC,CAChBgB,KAAK,CAAC,CAAC,CACT,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAC,OAAO,CAACC,GAAG,yKAAAC,MAAA,CAAkCH,KAAK,CAAE,CAAC,GAAC,CACvEY,OAAO,CAAC,iBAAM,CAAAxB,YAAY,CAAC,KAAK,CAAC,GAAC,CACnCA,YAAY,CAAC,IAAI,CAAC,CACpB,CAEA,QAAS,CAAAuD,kBAAkBA,CAAC9C,QAAQ,CAAE4C,KAAK,CAAC,CAC1C9H,GAAG,CAACiI,SAAS,CAAC/C,QAAQ,CAAC,CACtBH,IAAI,CAAC,SAAAa,GAAG,CAAI,CACX/C,cAAc,CAAC+C,GAAG,CAAC,CACnBkB,cAAc,CAAC,CAAC,CAChBgB,KAAK,CAAC,CAAC,CACT,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAC,OAAO,CAACC,GAAG,iJAAAC,MAAA,CAA8BH,KAAK,CAAE,CAAC,GAAC,CACnEY,OAAO,CAAC,iBAAM,CAAAxB,YAAY,CAAC,KAAK,CAAC,GAAC,CACnCA,YAAY,CAAC,IAAI,CAAC,CACpB,CAEA,QAAS,CAAAyD,cAAcA,CAACC,QAAQ,CAAEL,KAAK,CAAC,CACtC9H,GAAG,CAACoI,OAAO,CAACD,QAAQ,CAAC,CACpBpD,IAAI,CAAC,SAACa,GAAG,CAAK,CACb3C,QAAQ,EAAE2C,GAAG,EAAAJ,MAAA,CAAA6C,kBAAA,CAAKrF,KAAK,EAAC,CAAC,CACzB8D,cAAc,CAAC,CAAC,CAChBgB,KAAK,CAAC,CAAC,CACT,CAAC,CAAC,CACD1C,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAC,OAAO,CAACC,GAAG,uJAAAC,MAAA,CAA+BH,KAAK,CAAE,CAAC,GAAC,CACpEY,OAAO,CAAC,iBAAM,CAAAxB,YAAY,CAAC,KAAK,CAAC,GAAC,CACnCA,YAAY,CAAC,IAAI,CAAC,CACpB,CAEA,mBACE5D,IAAA,CAACd,kBAAkB,CAACuI,QAAQ,EAACC,KAAK,CAAE3F,WAAY,CAAA4F,QAAA,cAC9CzH,KAAA,QAAK0H,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B3H,IAAA,CAAClB,MAAM,EAACqE,QAAQ,CAAEA,QAAS,CAAC0E,QAAQ,CAAErC,YAAa,CAACjC,KAAK,CAAEA,KAAM,CAAC,CAAC,cACnErD,KAAA,CAACvB,MAAM,EAAAgJ,QAAA,eACL3H,IAAA,CAACtB,KAAK,EAACoJ,IAAI,CAAC,UAAU,CAACxB,OAAO,cAAEtG,IAAA,CAACL,QAAQ,EAACoI,UAAU,CAAE7C,cAAe,CAAC,CAAE,CAAC,CAAC,cAC1ElF,IAAA,CAACtB,KAAK,EAACoJ,IAAI,CAAC,UAAU,CAACxB,OAAO,cAAEtG,IAAA,CAACN,KAAK,EAACsI,OAAO,CAAEzC,WAAY,CAAC,CAAE,CAAC,CAAC,cACjEvF,IAAA,CAACtB,KAAK,EAACoJ,IAAI,CAAC,GAAG,CAACxB,OAAO,cAAEtG,IAAA,CAACnB,QAAQ,EAACoJ,EAAE,CAAE9E,QAAQ,CAAG,GAAG,CAAG,UAAW,CAAE,CAAE,CAAE,CAAC,cAC1EnD,IAAA,CAACtB,KAAK,EACJoJ,IAAI,CAAC,GAAG,CACRxB,OAAO,cAAEtG,IAAA,CAACR,qBAAqB,EAC7B2D,QAAQ,CAAEA,QAAS,CACnBmD,OAAO,CAAEvH,IAAK,CACdmJ,YAAY,CAAEtC,qBAAsB,CACpCuC,aAAa,CAAEzC,sBAAuB,CACtC0C,UAAU,CAAEzC,mBAAoB,CAChC0C,WAAW,CAAExC,eAAgB,CAC7ByC,YAAY,CAAEvC,gBAAiB,CAC/BwC,UAAU,CAAErC,cAAe,CAC3B/D,KAAK,CAAEA,KAAM,CACd,CAAE,CACJ,CAAC,EACI,CAAC,cACTnC,IAAA,CAAChB,MAAM,GAAC,CAAC,cACTgB,IAAA,CAACP,WAAW,EACV+I,IAAI,CAAC,MAAM,CACXC,MAAM,CAAE9F,iBAAkB,CAC1B+F,OAAO,CAAEzC,cAAe,CACxB0C,WAAW,CAAE5F,0BAA2B,CACzC,CAAC,cACF/C,IAAA,CAACf,UAAU,EACT6G,IAAI,CAAE3E,YAAa,CACnBsH,MAAM,CAAE9G,gBAAiB,CACzB+G,OAAO,CAAEzC,cAAe,CACzB,CAAC,cACFjG,IAAA,CAACZ,gBAAgB,EACfqJ,MAAM,CAAElI,sBAAuB,CAC/BmI,OAAO,CAAEzC,cAAe,CACxB2C,YAAY,CAAE5B,gBAAiB,CAC/BrD,SAAS,CAAEA,SAAU,CACtB,CAAC,cACF3D,IAAA,CAACV,aAAa,EACZmJ,MAAM,CAAE9H,mBAAoB,CAC5B+H,OAAO,CAAEzC,cAAe,CACxBmC,UAAU,CAAEf,cAAe,CAC3B1D,SAAS,CAAEA,SAAU,CACtB,CAAC,cACF3D,IAAA,CAACX,eAAe,EACdoJ,MAAM,CAAE1H,qBAAsB,CAC9B2H,OAAO,CAAEzC,cAAe,CACxB4C,cAAc,CAAE1B,kBAAmB,CACnCxD,SAAS,CAAEA,SAAU,CACtB,CAAC,cACF3D,IAAA,CAACT,eAAe,EACdkJ,MAAM,CAAElH,iBAAkB,CAC1BmH,OAAO,CAAEzC,cAAe,CACxB6C,YAAY,CAAEjC,kBAAmB,CACjClD,SAAS,CAAEA,SAAU,CACtB,CAAC,EACC,CAAC,CACqB,CAAC,CAElC,CAEA,cAAe,CAAAxD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}