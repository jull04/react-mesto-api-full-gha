{"ast":null,"code":"import React from\"react\";import useFormValidation from\"../hooks/useFormValidation\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,isLoading=_ref.isLoading;var _useFormValidation=useFormValidation(),handleChange=_useFormValidation.handleChange,values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,reset=_useFormValidation.reset;React.useEffect(function(){reset();},[isOpen]);function handleSubmit(evt){evt.preventDefault();onAddPlace({title:values.title,link:values.link});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"add\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",btnText:isLoading?\"Сохранение...\":\"Создать\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{id:\"add\",className:\"popup__input popup__input_title \".concat(isInputValid.title===undefined||isInputValid.title?'':'popup__input_type_error'),type:\"text\",name:\"title\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",required:true,onChange:handleChange,value:values.title?values.title:''}),/*#__PURE__*/_jsx(\"span\",{className:\"add-error popup__error popup__error_visible\",children:errors.title}),/*#__PURE__*/_jsx(\"input\",{id:\"url\",className:\"popup__input popup__input_link \".concat(isInputValid.link===undefined||isInputValid.link?'':'popup__input_type_error'),type:\"url\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,onChange:handleChange,value:values.link?values.link:''}),/*#__PURE__*/_jsx(\"span\",{className:\"url-error popup__error popup__error_visible\",children:errors.link})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","useFormValidation","PopupWithForm","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","_ref","isOpen","onClose","onAddPlace","isLoading","_useFormValidation","handleChange","values","errors","isValid","isInputValid","reset","useEffect","handleSubmit","evt","preventDefault","title","link","name","btnText","onSubmit","children","id","className","concat","undefined","type","placeholder","minLength","maxLength","required","onChange","value"],"sources":["/Users/juliakh/Desktop/react-mesto-auth/react-mesto-auth/src/components/AddPlacePopup.jsx"],"sourcesContent":["import React from \"react\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace, isLoading}) {\n\n  const {handleChange, values, errors, isValid, isInputValid, reset} = useFormValidation();\n\n  React.useEffect(() => {\n    reset();\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({title: values.title, link: values.link}); \n  }\n\n  return(\n    <PopupWithForm\n    name=\"add\"\n    title=\"Новое место\"\n    btnText={isLoading ? \"Сохранение...\" : \"Создать\"}\n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    isValid={isValid}\n    >\n    <input\n      id=\"add\"\n      className={`popup__input popup__input_title ${isInputValid.title === undefined || isInputValid.title ? '' : 'popup__input_type_error' }`}\n      type=\"text\"\n      name=\"title\"\n      placeholder=\"Название\"\n      minLength=\"2\"\n      maxLength=\"30\"\n      required\n      onChange={handleChange}\n      value={values.title ? values.title : ''}\n    />\n    <span className=\"add-error popup__error popup__error_visible\">{errors.title}</span>\n    <input\n      id=\"url\"\n      className={`popup__input popup__input_link ${isInputValid.link === undefined || isInputValid.link ? '' : 'popup__input_type_error' }`}\n      type=\"url\"\n      name=\"link\"\n      placeholder=\"Ссылка на картинку\"\n      required\n      onChange={handleChange}\n      value={values.link ? values.link : ''}\n    />\n    <span className=\"url-error popup__error popup__error_visible\">{errors.link}</span>\n  </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,iBAAiB,KAAM,4BAA4B,CAC1D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA4C,IAAzC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CAE7D,IAAAC,kBAAA,CAAqEZ,iBAAiB,CAAC,CAAC,CAAjFa,YAAY,CAAAD,kBAAA,CAAZC,YAAY,CAAEC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,MAAM,CAAAH,kBAAA,CAANG,MAAM,CAAEC,OAAO,CAAAJ,kBAAA,CAAPI,OAAO,CAAEC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CAAEC,KAAK,CAAAN,kBAAA,CAALM,KAAK,CAEjEnB,KAAK,CAACoB,SAAS,CAAC,UAAM,CACpBD,KAAK,CAAC,CAAC,CACT,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ,QAAS,CAAAY,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBZ,UAAU,CAAC,CAACa,KAAK,CAAET,MAAM,CAACS,KAAK,CAAEC,IAAI,CAAEV,MAAM,CAACU,IAAI,CAAC,CAAC,CACtD,CAEA,mBACEnB,KAAA,CAACJ,aAAa,EACdwB,IAAI,CAAC,KAAK,CACVF,KAAK,CAAC,+DAAa,CACnBG,OAAO,CAAEf,SAAS,CAAG,eAAe,CAAG,SAAU,CACjDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBkB,QAAQ,CAAEP,YAAa,CACvBJ,OAAO,CAAEA,OAAQ,CAAAY,QAAA,eAEjBzB,IAAA,UACE0B,EAAE,CAAC,KAAK,CACRC,SAAS,oCAAAC,MAAA,CAAqCd,YAAY,CAACM,KAAK,GAAKS,SAAS,EAAIf,YAAY,CAACM,KAAK,CAAG,EAAE,CAAG,yBAAyB,CAAI,CACzIU,IAAI,CAAC,MAAM,CACXR,IAAI,CAAC,OAAO,CACZS,WAAW,CAAC,kDAAU,CACtBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,MACRC,QAAQ,CAAEzB,YAAa,CACvB0B,KAAK,CAAEzB,MAAM,CAACS,KAAK,CAAGT,MAAM,CAACS,KAAK,CAAG,EAAG,CACzC,CAAC,cACFpB,IAAA,SAAM2B,SAAS,CAAC,6CAA6C,CAAAF,QAAA,CAAEb,MAAM,CAACQ,KAAK,CAAO,CAAC,cACnFpB,IAAA,UACE0B,EAAE,CAAC,KAAK,CACRC,SAAS,mCAAAC,MAAA,CAAoCd,YAAY,CAACO,IAAI,GAAKQ,SAAS,EAAIf,YAAY,CAACO,IAAI,CAAG,EAAE,CAAG,yBAAyB,CAAI,CACtIS,IAAI,CAAC,KAAK,CACVR,IAAI,CAAC,MAAM,CACXS,WAAW,CAAC,oGAAoB,CAChCG,QAAQ,MACRC,QAAQ,CAAEzB,YAAa,CACvB0B,KAAK,CAAEzB,MAAM,CAACU,IAAI,CAAGV,MAAM,CAACU,IAAI,CAAG,EAAG,CACvC,CAAC,cACFrB,IAAA,SAAM2B,SAAS,CAAC,6CAA6C,CAAAF,QAAA,CAAEb,MAAM,CAACS,IAAI,CAAO,CAAC,EACrE,CAAC,CAElB,CAEA,cAAe,CAAAlB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}