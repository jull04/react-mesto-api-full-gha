{"ast":null,"code":"import useFormValidation from\"../hooks/useFormValidation\";import PopupWithForm from\"./PopupWithForm\";import React,{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isLoading=_ref.isLoading;var _useFormValidation=useFormValidation(),handleChange=_useFormValidation.handleChange,values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,reset=_useFormValidation.reset;useEffect(function(){reset();},[isOpen]);function handleSubmit(evt){evt.preventDefault();onUpdateAvatar(values);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",btnText:isLoading?\"Сохранение...\":\"Сохранить\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{id:\"avatar\",className:\"popup__input popup__input_title \".concat(isInputValid.avatar===undefined||isInputValid.avatar?'':'popup__input_type_error'),type:\"url\",name:\"avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,value:values.avatar?values.avatar:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"avatar-error popup__error popup__error_visible\",children:errors.avatar})]});}export default EditAvatarPopup;","map":{"version":3,"names":["useFormValidation","PopupWithForm","React","useEffect","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isLoading","_useFormValidation","handleChange","values","errors","isValid","isInputValid","reset","handleSubmit","evt","preventDefault","name","title","btnText","onSubmit","children","id","className","concat","avatar","undefined","type","placeholder","required","value","onChange"],"sources":["/Users/juliakh/Desktop/react-mesto-auth/react-mesto-auth/src/components/EditAvatarPopup.jsx"],"sourcesContent":["import useFormValidation from \"../hooks/useFormValidation\";\nimport PopupWithForm from \"./PopupWithForm\"\nimport React, {useEffect} from \"react\";\n\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar, isLoading}) {\n\n  const {handleChange, values, errors, isValid, isInputValid, reset} = useFormValidation();\n\n  useEffect(() => {\n    reset();\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar(values);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      btnText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen} \n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isValid={isValid}\n    >\n      <input\n        id=\"avatar\"\n        className={`popup__input popup__input_title ${isInputValid.avatar === undefined || isInputValid.avatar ? '' : 'popup__input_type_error' }`}\n        type=\"url\"\n        name=\"avatar\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={values.avatar ? values.avatar : ''}\n        onChange={handleChange}\n      />\n      <span className=\"avatar-error popup__error popup__error_visible\">{errors.avatar}</span>\n    </PopupWithForm>\n  )  \n}\n\nexport default EditAvatarPopup"],"mappings":"AAAA,MAAO,CAAAA,iBAAiB,KAAM,4BAA4B,CAC1D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,KAAK,EAAGC,SAAS,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAgD,IAA7C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CAEnE,IAAAC,kBAAA,CAAqEd,iBAAiB,CAAC,CAAC,CAAjFe,YAAY,CAAAD,kBAAA,CAAZC,YAAY,CAAEC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,MAAM,CAAAH,kBAAA,CAANG,MAAM,CAAEC,OAAO,CAAAJ,kBAAA,CAAPI,OAAO,CAAEC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CAAEC,KAAK,CAAAN,kBAAA,CAALM,KAAK,CAEjEjB,SAAS,CAAC,UAAM,CACdiB,KAAK,CAAC,CAAC,CACT,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ,QAAS,CAAAW,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBX,cAAc,CAACI,MAAM,CAAC,CACxB,CAEA,mBACET,KAAA,CAACN,aAAa,EACZuB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAC,uFAAiB,CACvBC,OAAO,CAAEb,SAAS,CAAG,eAAe,CAAG,WAAY,CACnDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBgB,QAAQ,CAAEN,YAAa,CACvBH,OAAO,CAAEA,OAAQ,CAAAU,QAAA,eAEjBvB,IAAA,UACEwB,EAAE,CAAC,QAAQ,CACXC,SAAS,oCAAAC,MAAA,CAAqCZ,YAAY,CAACa,MAAM,GAAKC,SAAS,EAAId,YAAY,CAACa,MAAM,CAAG,EAAE,CAAG,yBAAyB,CAAI,CAC3IE,IAAI,CAAC,KAAK,CACVV,IAAI,CAAC,QAAQ,CACbW,WAAW,CAAC,oGAAoB,CAChCC,QAAQ,MACRC,KAAK,CAAErB,MAAM,CAACgB,MAAM,CAAGhB,MAAM,CAACgB,MAAM,CAAG,EAAG,CAC1CM,QAAQ,CAAEvB,YAAa,CACxB,CAAC,cACFV,IAAA,SAAMyB,SAAS,CAAC,gDAAgD,CAAAF,QAAA,CAAEX,MAAM,CAACe,MAAM,CAAO,CAAC,EAC1E,CAAC,CAEpB,CAEA,cAAe,CAAAxB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}